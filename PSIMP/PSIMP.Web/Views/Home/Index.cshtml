@{
    ViewBag.Title = "Index";
    Session["displayMode"] = "page";
}
<link href="~/Content/Page.css" rel="stylesheet" />
<script>
    var loadPage = function (record) {
        var tab = App.Page_Content.load(record.data.href);
    };
    var checkMenuGroup = function (id,nodeid) {
        var panel = Ext.getCmp(id).expand();        
        if (nodeid) {
            var node = panel.getStore().getNodeById(nodeid);
            var path = node.getPath('id');
            panel.expandPath(path, 'id');
            panel.getSelectionModel().select(node);
            node.expand();
        }
        Ext.get(id+'_header').frame();
    }
</script>
@(
 Html.X().Viewport()
        .Layout(LayoutType.Border)
        .Items(
            Html.X().Container()
                .Height(90)
                .Region(Region.North)
                .Content(
                        @<text>
<div class="header">
    <div class="left">
        <div class="title">
            XXX系统<span class="title-sub">V1</span>
        </div>
    </div>
    <div class="right">
        <div class="button-group">
            <a class="button" href="@Url.Action("Index", "Desktop")">桌面版</a>
        </div>
    </div>
</div>
</text>
                )
           , Html.X().Panel()
                 .Cls("menuPanel")
                 .Layout(LayoutType.Fit)
                 .Split(true)
                 .Header(false)
                 .Collapsible(true)
                 .CollapseMode(CollapseMode.Mini)
                 .Region(Region.West)
                 .Width(200)
                 .ItemsFrom(@<text>@Html.MvcSiteMap().SiteMap("ExtTreeMap")</text>)
           , Html.X().Panel()
                 .ID("Page_Content")
                 .Region(Region.Center)
                 .Layout(LayoutType.Fit)
                 .Border(false)
                 .Loader(
                     Html.X().ComponentLoader()
                         .AutoLoad(false)
                         .RemoveAll(true)
                         .Mode(LoadMode.Component)
                         .LoadMask(mask =>
                         {
                             mask.ShowMask = true;
                             mask.Msg = "界面加载中...";
                         })
                 )
                 .Items(
                    Html.X().Panel()
                        .Title("首页")
                        .Content(@<text>
                            <a href="#">ry</a>
                            <a href="#">ry</a>
                        </text>)
                 )

        )
)
