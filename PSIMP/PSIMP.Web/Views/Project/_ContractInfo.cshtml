@using Ext.Net
@using Ext.Net.MVC
@model bool
@{
    Layout = null;
}
@(Html.X().GridPanel()
         .Control(grid => {
             if(Model!=null&&Model)
             {
                grid.TopBar.Add(
                        Html.X().Toolbar()
                            .Items(
                                Html.X().Button().Text("新增合同段").Icon(Icon.Add)
                                ,
                                Html.X().Button().Text("删除").Icon(Icon.Exclamation)
                            )
                    );
             }
         })
         .Height(200)
         .Width(600)
         .Title("监理合同段信息")
         .EmptyText("没有监理合同段信息")
         .Store(Html.X().Store()
                    .AutoLoad(false)
                    .Proxy(Html.X().AjaxProxy()
                               .Url(Url.Action("GetContracts"))
                               .Reader(Html.X().JsonReader().Root("data"))
                    )
                    .Model(Html.X().Model().Fields(
                               Html.X().ModelField().Name("Id"),
                               Html.X().ModelField().Name("f1"),
                               Html.X().ModelField().Name("f2"),
                               Html.X().ModelField().Name("f3"),
                               Html.X().ModelField().Name("f4"),
                               Html.X().ModelField().Name("f5"),
                               Html.X().ModelField().Name("f6"),
                               Html.X().ModelField().Name("f7")
                    ))
         )
         .ColumnModel(
                Html.X().Column().Text("合同段简称").MenuDisabled(true).DataIndex("f1")
                , Html.X().Column().Text("合同段全称").MenuDisabled(true).DataIndex("f2")
                , Html.X().Column().Text("起止桩号").MenuDisabled(true).DataIndex("f3")
                , Html.X().Column().Text("长度(Km)").MenuDisabled(true).DataIndex("f4")
                , Html.X().Column().Text("开工日期").MenuDisabled(true).DataIndex("f5")
                , Html.X().Column().Text("人员要求").MenuDisabled(true).DataIndex("f6")
                , Html.X().Column().Text("车辆信息").MenuDisabled(true).DataIndex("f7")
         )
     )