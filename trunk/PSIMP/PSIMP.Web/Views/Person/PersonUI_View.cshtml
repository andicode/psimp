@model IEnumerable< PSIMP.Models.PM_PersonBaseInfo>

@(Html.X().GridPanelFor(Model)
          .TopBar(
               Html.X().Toolbar()
                   .Items(
                        Html.X()
                           .TextField()
                           .FieldLabel("姓名")
                           .Width(150)
                           .LabelAlign(LabelAlign.Right)
                           .LabelWidth(35)
                        )
                        ,Html.X().Button().Text("查询").Icon(Icon.Magnifier).Margins("0 0 0 10")
                        ,Html.X().ToolbarFill()
                        ,Html.X()
                              .Button()
                              .Text("新增人员")
                              .Icon(Icon.Add)
                              .Handler("person.create")    
          )
          .Control(grid =>
          {
              grid.GetStore().ID = "Person_Store";
              grid.ColumnModel.Columns.Insert(0,
                  Html.X().ComponentColumn().Text("操作").Width(70).Align(Alignment.Center)
                  .Component(
                        Html.X().Container().Layout(LayoutType.VBox)
                            .Items(
                                Html.X().Button().Text("编辑").Icon(Icon.PageEdit).Margin(5).Handler("person.edit(this.up('container').record)"),
                                Html.X().Button().Text("删除").Icon(Icon.PageDelete).Margin(5).Handler("person.del(this.up('container').record)")
                            )
                  )
              );
          })
          .Listeners(evnets => {
              evnets.ItemDblClick.Handler = @"App.Person_Details.show();App.Person_Details.load({params:{id:record.data.ID}})";
          })
          .EmptyText("没有人员记录")
          .BottomBar(Html.X().PagingToolbar())
)