@model PSIMP.Models.Person
@using Ext.Net.MVC
@using Ext.Net
@{
    Layout = null;
}
@(
 Html.X().MenuPanel()
    .SelectedIndex(0)
    .Region(Region.West)
    .Margins("0 5 0 0")
    .Width(150)
    .Menu(menu => {
        menu.Items.Add(Html.X().MenuItem().Text("人员列表").Listeners(events => events.Click.Handler = "App.Person_View.getLayout().setActiveItem(0)"));
        menu.Items.Add(Html.X().MenuItem().Text("人员查询").Disabled(true).Listeners(events => events.Click.Handler = "App.Person_View.getLayout().setActiveItem(0)"));
        menu.Items.Add(Html.X().MenuItem().Text("人员统计").Disabled(true).Listeners(events => events.Click.Handler = "App.Person_View.getLayout().setActiveItem(0)"));
    })
)   
@(Html.X()
      .Panel()
      .ID("Person_View")
      .Title("人员列表")
      .Cls("person-view")
      .Header(true)
      .Region(Region.Center)
      .Layout(LayoutType.Card)
      .ActiveIndex(1)
      .Padding(0)
      .TopBar(
           Html.X().Toolbar().ItemsFromPartial("PersonUI_Toolbar")
      ) 
      .ItemsFromPartial("PersonUI_DataView")
      .BottomBar(Html.X()
                     .PagingToolbar()
                     .Listeners(events =>
                     {
                         events.Render.Handler = "this.bindStore(App.Person_Store)";
                     })
      )
)
@(Html.EditorWindow()
      .ID("Person_Window")
      .Title("人员信息")
      .Hidden(true)
      .Border(false)
      .BodyBorder(0)
      .Width(768)
      .Height(520)
      .Layout(Ext.Net.LayoutType.Border)
      .ItemsFromPartial("_PersonForm", Model)
)